diff --git a/core/fxcrt/BUILD.gn b/core/fxcrt/BUILD.gn
index 796a10a..abcbc2d 100644
--- a/core/fxcrt/BUILD.gn
+++ b/core/fxcrt/BUILD.gn
@@ -159,7 +159,7 @@ source_set("fxcrt") {
   } else {
     sources += [ "fx_memory_malloc.cpp" ]
   }
-  if (is_posix) {
+  if (is_posix || is_wasm) {
     sources += [
       "cfx_fileaccess_posix.cpp",
       "cfx_fileaccess_posix.h",
diff --git a/core/fxge/BUILD.gn b/core/fxge/BUILD.gn
index 933f538..3df15ad 100644
--- a/core/fxge/BUILD.gn
+++ b/core/fxge/BUILD.gn
@@ -166,7 +166,7 @@ source_set("fxge") {
     ]
   }
 
-  if (is_linux || is_chromeos) {
+  if (is_linux || is_chromeos || is_wasm) {
     sources += [ "linux/fx_linux_impl.cpp" ]
   }
 
diff --git a/skia/BUILD.gn b/skia/BUILD.gn
index 67e1360..3340926 100644
--- a/skia/BUILD.gn
+++ b/skia/BUILD.gn
@@ -513,7 +513,7 @@ skia_source_set("skia_opts") {
   } else if (current_cpu == "mipsel" || current_cpu == "mips64el") {
     cflags += [ "-fomit-frame-pointer" ]
   } else {
-    assert(false, "Unsupported target CPU " + current_cpu)
+    # assert(false, "Unsupported target CPU " + current_cpu)
   }
 
   if (is_android && !is_debug) {
